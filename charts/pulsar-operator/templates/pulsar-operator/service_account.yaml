{{- if and .Values.components.pulsar .Values.pulsar.serviceAccount.create }}
kind: ServiceAccount
apiVersion: v1
metadata:
  name: '{{ template "pulsar.fullname" . }}-{{ .Values.pulsar.serviceAccount.name }}'
  namespace: {{ template "pulsar.namespace" . }}
  labels:
    {{- include "pulsar.standardLabels" . | nindent 4 }}
    components: {{ .Values.pulsar.component }}
{{- end }}