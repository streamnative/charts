{{- if .Values.external_dns.enabled }}
{{- if eq .Values.external_dns.provider "azure" }}
apiVersion: v1
kind: Secret
metadata:
  name: azure-config-file
  namespace: {{ template "pulsar.namespace" . }}
stringData:
  azure.json: |
    {
      "tenantId": "{{ .Values.external_dns.providers.azure.tenant_id }}",
      "subscriptionId": "{{ .Values.external_dns.providers.azure.subscription_id }}",
      "resourceGroup": "{{ .Values.external_dns.providers.azure.resource_group }}",
      "aadClientId": "{{ .Values.external_dns.providers.azure.client_id }}",
      "aadClientSecret": "{{ .Values.external_dns.providers.azure.client_secret }}"
    }
{{- end }}
{{- end }}